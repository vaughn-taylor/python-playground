{% extends "layout/base.html" %}
{% block content %}

{% if error %}
<div class="mb-4 p-3 bg-red-100 text-rose-800 rounded-xl">
    {{ error }}
</div>
{% endif %}

<form method="POST" class="bg-white dark:bg-gray-800 p-6 rounded-xl space-y-6 mt-8">
    <input type="hidden" name="next_action" value="list">
    <div class="flex flex-end justify-end w-full">
        <a href="{{ url_for('dashboard.admin_pages') }}"
            class="inline-flex justify-center items-center px-4 py-2 bg-gray-400 hover:bg-gray-700 text-white text-sm rounded">
            Cancel
        </a>
        <button type="submit"
            class="inline-flex justify-center items center px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white text-sm rounded ml-3">
            Save</button>
    </div>
    <div>
        <label class="block text-sm text-gray-700 dark:text-gray-200 font-semibold mb-1">Slug</label>
        <input type="text" name="slug" required value="{{ page.slug if page else '' }}"
            class="w-full px-3 py-2 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100">
    </div>
    <div>
        <label class="block text-sm text-gray-700 dark:text-gray-200 font-semibold mb-1">Title</label>
        <input type="text" name="title" required value="{{ page.title if page else '' }}"
            class="w-full px-3 py-2 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100">
    </div>
    <div>
        <!-- Hidden input to store final content -->
        <input type="hidden" name="content" value="{{ page.content if page else '' }}">
        <!-- Toast UI attaches here -->
        <div id="editor" class="bg-gray-200 rounded-xl"></div>
    </div>
</form>

{% endblock %}